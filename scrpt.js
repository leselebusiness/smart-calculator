const display=document.getElementById("display"),basic=document.getElementById("basic"),scientific=document.getElementById("scientific"),modeText=document.getElementById("modeText");let sciMode=!0,shiftActive=!1;function append(a){display.value+=a}function clearDisplay(){display.value=""}function del(){display.value=display.value.slice(0,-1)}function factorial(a){return a<=1?1:a*factorial(a-1)}function toggleMode(){sciMode=!sciMode,sciMode?(basic.style.display="none",scientific.style.display="block",modeText.textContent="Basic Calculator"):(basic.style.display="block",scientific.style.display="none",modeText.textContent="Scientific Calculator")}function toggleShift(){shiftActive=!shiftActive,document.getElementById("shiftBtn").style.background=shiftActive?"#fde68a":"#fef9c3",document.querySelectorAll(".trig").forEach(a=>{const b=a.dataset.func;a.textContent=shiftActive?b+"⁻¹":b})}function appendTrig(a){const b=document.querySelector(`.trig[data-func="${a}"]`);display.value+=b.textContent+"("}function appendFraction(){const a=prompt("Enter numerator:"),b=prompt("Enter denominator:");a&&b&&(display.value+=`(${a}/${b})`)}function calculate(){try{let a=display.value.replace(/÷/g,"/").replace(/×/g,"*").replace(/−/g,"-").replace(/π/g,Math.PI).replace(/e/g,Math.E).replace(/(\d+)!/g,"factorial($1)").replace(/sin⁻¹\(/g,"Math.asin(").replace(/cos⁻¹\(/g,"Math.acos(").replace(/tan⁻¹\(/g,"Math.atan(").replace(/sin\(/g,"Math.sin(").replace(/cos\(/g,"Math.cos(").replace(/tan\(/g,"Math.tan(").replace(/\^/g,"**");display.value=eval(a)}catch(a){display.value="Error"}}